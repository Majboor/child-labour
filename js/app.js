window.lazySizesConfig=window.lazySizesConfig||{};window.lazySizesConfig.expand=1500;/*!
* remFix v20220427.1930
* Fix Safari's minimum font size setting
*/(function(){var pattern=new RegExp("([\\d.-]+)rem","g");var replacement="calc($1 * var(--uu))";var fix_sheets=function(rule){var rules=rule.cssRules||rule.rules;if(rule.style){if(rule.style.cssText.search(pattern)>-1){rule.style.cssText=rule.style.cssText.replace(pattern,replacement);}}else if(rules){for(var i=0;i<rules.length;i++)fix_sheets(rules[i]);}};var fix_inline=function(){document.querySelectorAll('[style]')?.forEach(function(el,index){if(el.style.cssText.search(pattern)>-1){el.setAttribute('style',el.style.cssText.replace(pattern,replacement));}});};var init=function(){if(typeof rems_fixed==='undefined'){if(parseFloat(window.getComputedStyle(document.documentElement).fontSize)>=9){[...document.styleSheets].forEach(function(sheet,index){if(sheet.href?.includes('/app.css')){fix_sheets(document.styleSheets[index]);}});fix_inline();window.addEventListener('reinitialize',fix_inline);window.rems_fixed=true;};}}
window.addEventListener('resize/debounced',init);init();})();(function(namespace){document.addEventListener("DOMContentLoaded",function(){let boxes=document.querySelectorAll('.daisy-chain-box-templated');if(boxes.length>0){let links=document.querySelectorAll('.daisy-chain-progress-templated a');let body=document.querySelector('body');let sharedButtons=document.querySelectorAll('.shared-templated');function logScrollEvent(slideNumber){var eventName='scroll_to_slide_'+slideNumber;console.log('Logging event: '+eventName);gtag('event',eventName,{'send_to':'G-LC304NJ9TS'});}
function setActiveBoxTemplated(index){boxes.forEach((box)=>{box.classList.remove('active');});links.forEach((l)=>{l.parentNode.classList.remove('active');});boxes[index].classList.add('active');boxes[index].classList.add('visible');links[index].parentNode.classList.add('active');links[index].parentNode.classList.add('visible');boxes[index].scrollIntoView({behavior:'smooth'});logScrollEvent(index+1);}
sharedButtons.forEach((btn)=>{btn.addEventListener('click',(e)=>{e.preventDefault();setActiveBoxTemplated(2);if(btn.tagName.toLowerCase()==='a'){window.open(btn.getAttribute('href'),'_blank');}});});links.forEach((link,index)=>{link.addEventListener('click',(e)=>{e.preventDefault();setActiveBoxTemplated(index);});});boxes.forEach((box,index)=>{let button1=box.querySelector('.b1-button1');let button2=box.querySelector('.b1-button2');let button3=box.querySelector('.b3-button3');let button4=box.querySelector('.b3-button4');if(button1){button1.addEventListener('click',(e)=>{e.preventDefault();body.classList.add('-affirmative');body.classList.remove('-negative');if(index+1<boxes.length){setActiveBoxTemplated(index+1);}});}
if(button2){button2.addEventListener('click',(e)=>{e.preventDefault();body.classList.add('-negative');body.classList.remove('-affirmative');if(index+2<boxes.length){setActiveBoxTemplated(index+2);}});}
if(button4){button4.addEventListener('click',(e)=>{e.preventDefault();setActiveBoxTemplated(3);});}});document.querySelector('.skip-share').addEventListener('click',function(e){e.preventDefault();setActiveBoxTemplated(2);});setActiveBoxTemplated(0);}});})('daisy-chain-template');(function(namespace){document.addEventListener("DOMContentLoaded",function(){let boxes=document.querySelectorAll('.daisy-chain-box-byo');if(boxes.length>0){let links=document.querySelectorAll('.daisy-chain-progress-byo a');let daisyButton=document.querySelectorAll('.daisy-chain-button');function logScrollEvent(slideNumber){var eventName='scroll_to_slide_'+slideNumber;console.log('Logging event: '+eventName);gtag('event',eventName,{'send_to':'G-LC304NJ9TS'});}
function setActiveBox(index){index=parseInt(index);index=index-1;boxes.forEach((box)=>{box.classList.remove('active');});links.forEach((l)=>{l.parentNode.classList.remove('active');});console.log(boxes[index]);boxes[index].classList.add('active');boxes[index].classList.add('visible');links[index].parentNode.classList.add('active');links[index].parentNode.classList.add('visible');boxes[index].scrollIntoView({behavior:'smooth'});logScrollEvent(index+1);}
if(daisyButton){daisyButton.forEach((btn)=>{btn.addEventListener('click',(e)=>{var currentBox=btn.getAttribute('daisy-box-current');var targetBox=btn.getAttribute('daisy-box-target');var daisy_style=btn.getAttribute('daisy-style');if(daisy_style!=='share'&&daisy_style!=='url'){e.preventDefault();}
if(daisy_style=='box-affirmative'){var progressItem=document.querySelector('.daisy-chain-progress-byo li:nth-child('+currentBox+')');console.log(progressItem);if(progressItem){progressItem.classList.add('box-affirmative');}}
if(daisy_style=='box-negative'){var progressItem=document.querySelector('.daisy-chain-progress-byo li:nth-child('+currentBox+')');console.log(progressItem);if(progressItem){progressItem.classList.add('box-negative');}}
if(daisy_style=='box'){var progressItem=document.querySelector('.daisy-chain-progress-byo li:nth-child('+currentBox+')');console.log(progressItem);if(progressItem){progressItem.classList.add('box-generic');}}
setActiveBox(targetBox);});});}
setActiveBox(1);}});})('daisy-chain-byo');(function(namespace){window.dataLayer=window.dataLayer||[];console.log(window.dataLayer);function gtag(){dataLayer.push(arguments);}
function logEvent(eventName){console.log('Logging event: '+eventName);gtag('event',eventName,{'send_to':'G-LC304NJ9TS'});}
function logScrollEvent(slideNumber){var eventName='scroll_to_slide_'+slideNumber;gtag('event',eventName,{'send_to':'G-LC304NJ9TS'});}
function isLandingPage(){var body=document.querySelector('body');return body.classList.contains('page-template-template-daisychain-landing');}
document.addEventListener('DOMContentLoaded',function(){if(isLandingPage()){var shareAffirmativeButton=document.getElementById('share-affirmative');if(shareAffirmativeButton){shareAffirmativeButton.addEventListener('click',function(){logEvent('share_ask_affirmative');});}
var shareNegativeButton=document.getElementById('share-negative');if(shareNegativeButton){shareNegativeButton.addEventListener('click',function(){logEvent('share_ask_negative');});}
var facebookButton=document.getElementById('share-to-facebook');if(facebookButton){facebookButton.addEventListener('click',function(){logEvent('share_facebook');});}
var twitterButton=document.getElementById('share-to-twitter');if(twitterButton){twitterButton.addEventListener('click',function(){logEvent('share_twitter');});}
var whatsappButton=document.getElementById('share-to-whatsapp');if(whatsappButton){whatsappButton.addEventListener('click',function(){logEvent('share_whatsapp');});}
var skipButton=document.getElementById('share-skip');if(skipButton){skipButton.addEventListener('click',function(){logEvent('share_skip');});}
var donateYesButton=document.getElementById('donate-yes');if(donateYesButton){donateYesButton.addEventListener('click',function(){logEvent('donate_yes');});}
var donateNoButton=document.getElementById('donate-no');if(donateNoButton){donateNoButton.addEventListener('click',function(){logEvent('donate_no');});}
var slideButtons=document.querySelectorAll('.daisy-chain-progress li a');slideButtons.forEach(function(button,index){button.addEventListener('click',function(){var slideNumber=index+1;logScrollEvent(slideNumber);});});}});})('gtag_events');/*!
* Video player
* @requires jquery
*/(function(namespace){var classname='is-playing';document.addEventListener('click',function(event){if(event.target.matches('.video1-image, .video1-image *')){event.preventDefault();event.stopPropagation();var root=event.target.closest('.video1');if(root){var video=root.querySelector('video');console.log(video);if(video){video.play()}else{var youtube=root.querySelector('[data-youtube]');if(youtube&&window.ytapi[youtube.id]){window.ytapi[youtube.id].playVideo();if(typeof window.ytapi[youtube.id].monitored!==undefined){window.ytapi[youtube.id].monitored=true;$(youtube).parent().on('statechange',function(event,data){if(data.state==0){var root=event.target.closest('.video1');if(root)root.classList.remove(classname);}});}}}
root.classList.add(classname);}}},true);document.addEventListener('ended',function(event){if(event.target.matches('.video1 video')){var root=event.target.closest('.video1');if(root)root.classList.remove(classname);}},true);})('videoplayer');/*!
* Ready/loaded attribute helpers
*/(function(){document.addEventListener('DOMContentLoaded',function(){document.documentElement.setAttribute('ready','');});window.addEventListener('load',function(){document.documentElement.setAttribute('loaded','');});})();/*!
* Manage device/os/helpers classnames 20200830.0200
*/(function(){var ua=navigator.userAgent.toLowerCase();var up=navigator.platform.toLowerCase();var standard=['firefox','android'];var classes=[];for(var i=0,max=standard.length;i<max;i++)if(ua.indexOf(standard[i])!=-1)classes.push(standard[i]);if(ua.indexOf('opr')>-1)classes.push('opera');if(ua.indexOf('fxios')>-1)classes.push('firefox');if(ua.indexOf('crios')>-1)classes.push('chrome');if(ua.indexOf('chrome')>-1&&ua.indexOf('opr')==-1)classes.push('chrome');if(ua.indexOf('safari')>-1&&ua.indexOf('chrome')==-1&&ua.indexOf('crios')==-1&&ua.indexOf('fxios')==-1)classes.push('safari');if(/(ipad|iphone|ipod)/g.test(ua))classes.push('ios');if(up.indexOf('mac')>-1)classes.push('mac');if(up.indexOf('win')>-1)classes.push('win');document.documentElement.className+=' '+classes.join(' ');})();/*!
* Intent Attributes
* @requires ten1seven/what-input
*/(function(namespace){var update=function(type){if(type=='pointer')type='mouse';['keyboard','mouse','touch'].forEach(function(value){if(type!=value)document.documentElement.removeAttribute(value);});document.documentElement.setAttribute(type,'');};update(whatInput.ask('intent'));whatInput.registerOnChange(update,'intent');})('whatintent');/*!
* Open external links in a new tab
*/(function(){document.addEventListener('click',function(event){var a=event.target.closest('a[rel*="external"]');if(!a)return;event.preventDefault();window.open(a.getAttribute("href"));});})();/*!
* Forms enhancements
*/(function(namespace){var autoresize=function(el){el.style.height='auto';el.style.height=(el.scrollHeight)+'px';};var is_field=function(event){return event.target&&(event.target.matches('input')||event.target.matches('select')||event.target.matches('textarea'));};var is_select=function(event){return event.target&&event.target.matches('select');};document.body.addEventListener('change',function(event){if(is_select(event)){event.target.removeAttribute('placeholder');if(event.target.matches('[link]'))window.location=event.target.value;}});document.body.addEventListener('invalid',function(event){if(is_field(event))event.target.classList.add('-validated');},true);document.body.addEventListener('focusout',function(event){if(is_field(event))event.target.checkValidity();});document.body.addEventListener('input',function(event){if(event.target.matches('textarea[data-autoresize]'))autoresize(event.target);});var init=function(){each(document.querySelectorAll('textarea[data-autoresize]'),function(el){autoresize(el);});};window.addEventListener('reinitialize',init);init();})('forms');/*!
* Attach window events
* @requires v.window.utils
*/(function(){if(typeof window.utils!=='undefined'){window.utils.listeners.add('scroll','throttled','throttle',50,{leading:false});window.utils.listeners.add('scroll','debounced','debounce',100);window.utils.listeners.add('resize','throttled','throttle',150,{leading:false});window.utils.listeners.add('resize','debounced','debounce',300);}
window.addEventListener('resize/debounced',function(event){if(event.detail.width)window.dispatchEvent(new CustomEvent('recalculate'));});})();/*!
* Update --vw/--vh on resize
* @requires v.window.utils
*/(function(){window.addEventListener('resize/throttled',function(event){if(event.detail.width){document.documentElement.style.setProperty('--vw',document.documentElement.clientWidth*0.01+'px');document.documentElement.style.setProperty('--vh',window.innerHeight*0.01+'px');}
if(event.detail.height)document.documentElement.style.setProperty('--vha',window.innerHeight*0.01+'px');});})('vwh');/*!
* Trigger animations on scroll v20211015.1930
* @requires wilsonpage/fastdom
*/(function(namespace){var selector='[reveal]:not([reveal*="+"])';var margins='0px 0px -10% 0px';var reveal=function(el){fastdom.mutate(function(){if(el.getAttribute('reveal')==''){el.removeAttribute('reveal');el.setAttribute('revealed','');el.dispatchEvent(new CustomEvent('revealed'));}else{el.setAttribute('revealing','');el.dispatchEvent(new CustomEvent('revealing'));el.addEventListener('transitionend',function(){el.removeAttribute('reveal');el.removeAttribute('revealing');el.setAttribute('revealed','');el.dispatchEvent(new CustomEvent('revealed'));},{once:true});}});};var init=function(){if('IntersectionObserver'in window&&document.documentElement.matches('[m4n]')){var observer=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){if(entry.isIntersecting){var data=entry.target.getAttribute('reveal')||false;var delay=(data)?(data+'').split('/')[1]:0;if(delay&&delay>25){setTimeout(function(){reveal(entry.target);},delay);}else{reveal(entry.target);}
observer.unobserve(entry.target);}});},{rootMargin:margins});setTimeout(function(){eachOnce(selector,namespace,function(index,root){if(root.getBoundingClientRect().bottom<0){reveal(root);}else{observer.observe(root);}});},100);}else{eachOnce(selector,namespace,function(index,root){reveal(root);});}};window.addEventListener('reinitialize',init);init();})('reveal');/*!
* (v) Reveal Delays Sequencer 20211006.0015
* Sequence elements in the same row and in groups
*/(function(namespace){var init=function(){var els=document.querySelectorAll('[aligned]');var data={};each(els,function(el){var offset=el.getBoundingClientRect();var group=el.getAttribute('aligned')||0;var id='t'+Math.ceil(offset.top);if(!data.hasOwnProperty(group))data[group]={};if(!data[group].hasOwnProperty(id))data[group][id]=[];data[group][id].push({el:el,left:Math.ceil(offset.left)});});for(var group in data){if(data.hasOwnProperty(group)){for(var key in data[group]){if(data[group].hasOwnProperty(key)){var set=data[group][key];set.sort(function(obj1,obj2){return obj1.left-obj2.left;});set.forEach(function(item,index){item.el.style.setProperty('--rvq',index);});}}}}};window.addEventListener('reinitialize',init);window.addEventListener('recalculate',init);init();})('aligned');/*!
* (v) Height Watcher v20210812.2230
* @requires each
* @requires eachOnce
*/(function(namespace){var calculate=function(el){el.style.transitionDuration='0s';el.style.height='auto';var height=el.scrollHeight;el.style.setProperty('--height',height+'px');el.dispatchEvent(new CustomEvent('heightwatch',{bubbles:true,detail:{height:height}}));el.style.transitionDuration='';el.style.height='';};var update=function(event){calculate(event.currentTarget);};var open=function(event){var el=event.currentTarget;el.dispatchEvent(new CustomEvent('unfold:update'));el.setAttribute('transitioning',true);setTimeout(function(){el.setAttribute('open',true);},10);};var close=function(event){var el=event.currentTarget;el.dispatchEvent(new CustomEvent('unfold:update'));el.setAttribute('transitioning',true);setTimeout(function(){el.removeAttribute('open');},10);};var toggle=function(event){event.currentTarget.dispatchEvent(new CustomEvent('unfold:'+(event.currentTarget.matches('[open]')?'close':'open'),{bubbles:true}));};var clear=function(event){event.currentTarget.removeAttribute('transitioning');};var init=function(){eachOnce('[heightcatch]',namespace,function(index,root){root.addEventListener('heightwatch',function(event){event.stopPropagation();root.style.setProperty('--height',event.detail.height+'px');});});each(document.querySelectorAll('[heightwatch]'),function(root,index){calculate(root);if(!root.processed){root.addEventListener('unfold:update',update);root.addEventListener('unfold:toggle',toggle);root.addEventListener('unfold:open',open);root.addEventListener('unfold:close',close);root.addEventListener('transitionend',clear);root.processed=true;}});};init();setTimeout(init,750);window.addEventListener('recalculate',init);window.addEventListener('reinitialize',init);})('heightwatch');/*!
* (v) Offset Watcher v20201114.1615
*/(function(namespace){var selector='[offsetwatch]';var update=function(el){el.style.removeProperty('--offset-left');el.style.removeProperty('--offset-right');var offset=el.getBoundingClientRect();el.style.setProperty('--offset-left',offset.left+'px');el.style.setProperty('--offset-right',document.documentElement.clientWidth-offset.right+'px');};var calculate=function(){each(document.querySelectorAll(selector),function(el,index){update(el);});eachOnce(selector,namespace,function(index,el){el.addEventListener('update',function(){update(el);});});};calculate();window.addEventListener('reinitialize',calculate);window.addEventListener('recalculate',calculate);})('offsetwatch');/*!
* Sentry v20211120.1930
* Event trigger on viewport enter/leave
*/(function(namespace){if('IntersectionObserver'in window){var selector='.'+namespace;var init=function(){var observer=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){var top=!(entry.boundingClientRect.top>window.innerHeight/2);var visible=entry.isIntersecting;if(entry.target.dataset.loaded||entry.target.hasAttribute('initial')){var what=visible?'enter':'leave';var where=top?'top':'bottom';entry.target.dispatchEvent(new CustomEvent(what));entry.target.dispatchEvent(new CustomEvent(what+':'+where));}else{entry.target.dataset.loaded=true;}});});eachOnce(selector,namespace,function(index,root){observer.observe(root);});};window.addEventListener('reinitialize',init);init();}})('sentry1');/*!
* (v) Height Watcher v20210812.2230
* @requires each
* @requires eachOnce
*/(function(namespace){var calculate=function(el){el.style.transitionDuration='0s';el.style.height='auto';var height=el.scrollHeight;el.style.setProperty('--height',height+'px');el.dispatchEvent(new CustomEvent('heightwatch',{bubbles:true,detail:{height:height}}));el.style.transitionDuration='';el.style.height='';};var update=function(event){calculate(event.currentTarget);};var open=function(event){var el=event.currentTarget;el.dispatchEvent(new CustomEvent('unfold:update'));el.setAttribute('transitioning',true);setTimeout(function(){el.setAttribute('open',true);},10);};var close=function(event){var el=event.currentTarget;el.dispatchEvent(new CustomEvent('unfold:update'));el.setAttribute('transitioning',true);setTimeout(function(){el.removeAttribute('open');},10);};var toggle=function(event){event.currentTarget.dispatchEvent(new CustomEvent('unfold:'+(event.currentTarget.matches('[open]')?'close':'open'),{bubbles:true}));};var clear=function(event){event.currentTarget.removeAttribute('transitioning');};var init=function(){eachOnce('[heightcatch]',namespace,function(index,root){root.addEventListener('heightwatch',function(event){event.stopPropagation();root.style.setProperty('--height',event.detail.height+'px');});});each(document.querySelectorAll('[heightwatch]'),function(root,index){calculate(root);if(!root.processed){root.addEventListener('unfold:update',update);root.addEventListener('unfold:toggle',toggle);root.addEventListener('unfold:open',open);root.addEventListener('unfold:close',close);root.addEventListener('transitionend',clear);root.processed=true;}});};init();setTimeout(init,750);window.addEventListener('recalculate',init);window.addEventListener('reinitialize',init);})('heightwatch');/*!
* (v) Animator/Transitor v20210930.1430
* Trigger animations with classnames
*/(function(namespace){['animation','transition'].forEach(function(type){window[type]=function(el,classname,callback){if(!el.matches('.'+classname)){el.classList.add(classname);el.addEventListener(type+'end',function(){el.classList.remove(classname);if(callback)callback(el,classname);},{once:true});};};});})('animator');/*!
* Rellax
* @requires dixonandmoe/rellax
*/(function(namespace){if(typeof Rellax!=='undefined'){var rellax=[];var breakpoints=[320,720,1024];rellax.push(new Rellax('[rellax]',{speed:0,breakpoints:breakpoints}));var update=function(){each(rellax,function(el,index){if(el.elems)el.refresh();});};window.addEventListener('reinitialize',update);window.addEventListener('recalculate',update);}})('rellax');/*!
* Clipboard copy
* @requires alpinejs/alpine
* @requires ryangjchandler/spruce
*/(function(namespace){window[namespace]=function(text){if(navigator.clipboard){navigator.clipboard.writeText(text)}else{var el=document.createElement('textarea');el.value=text;el.style.top=0;el.style.left=0;el.style.opacity=0;el.style.position="fixed";document.body.appendChild(el);el.focus();el.select();document.execCommand('copy');el.remove();}};})('clipboard');/*!
* Lightbox
* @requires electerious/basicLightbox
*/(function(namespace){if(typeof basicLightbox!=='undefined'){window.addEventListener('click',function(event){if(event.target.matches('[data-lightbox], [data-lightbox] *')){event.preventDefault();var el=event.target.closest('[data-lightbox]');var target_selector=el.getAttribute('data-lightbox')||false;if(!target_selector)return false;var target_element=document.querySelector(target_selector);if(!target_element)return false;var template=target_element.innerHTML;var close=document.createElement("i");close.setAttribute('class','lightbox1-close icon-close-bold');close.setAttribute('data-close',true);window.lightbox=basicLightbox.create(template,{className:'lightbox1',onShow:function(instance){instance.element().append(close);}});window.lightbox.show();}
if(event.target.matches('.basicLightbox__placeholder, .lightbox1-close, .lightbox1-close *')){event.preventDefault();window.lightbox.close();}});window.addEventListener('keyup',function(event){if(event.key=="Escape"&&typeof window.lightbox!=='undefined'){window.lightbox.close();}});}})('lightbox');/*!
* Parallax effects
* @requires basicscroll
*/(function(namespace){if(typeof basicScroll!=='undefined'){var instances=[];var parallaxed=[{tag:'[parallax^="0/"]',options:{direct:true,from:0,to:'bottom-top',props:{'--parallax':{from:0,to:1}}}},{tag:'[parallax^="1/"]',options:{direct:true,from:'top-bottom',to:'bottom-top',props:{'--parallax':{from:0,to:1}}}}];var update=function(){instances.forEach(function(instance){instance.instance.calculate();instance.instance.update();})};var init=function(){parallaxed.forEach(function(settings){document.querySelectorAll(settings.tag+':not(.is-initialized-'+namespace+')').forEach(function(el){el.classList.add('is-initialized-'+namespace);var options=JSON.parse(JSON.stringify(settings.options))
options.elem=el;instances.push({instance:basicScroll.create(options),options:options});instances[instances.length-1].instance.start();});});setTimeout(update,1)};window.onload=function(){init();};window.addEventListener('reinitialize',init);window.addEventListener('recalculate',update);init();}})('basicscroll');/*!
* Globals
* @requires alpinejs/alpine
* @requires ryangjchandler/spruce
*/(function(namespace){Spruce.store('app',{overlay:false,scrolled:false});each(document.querySelectorAll('[cloaked]'),function(el,index){el.removeAttribute('cloaked');});})('app');/*!
* Transitions
* @requires alpinejs/alpine
*/(function(namespace){window[namespace]=function(){return{transitions:{['x-transition:enter']:'-transition -enter',['x-transition:enter-start']:'-from -enter-start',['x-transition:enter-end']:'-to -enter-end',['x-transition:leave']:'-transition -leave',['x-transition:leave-start']:'-to -leave-start',['x-transition:leave-end']:'-from -leave-end'}};};})('transitions');/*!
* Unfold helper
* @requires alpinejs/alpine
*/(function(namespace){window[namespace]=function(){return{catcher:{['@unfold:open'](event){event.stopPropagation();event.currentTarget.classList.add('-open');},['@unfold:close'](event){event.stopPropagation();event.currentTarget.classList.remove('-open');},},toggle:function(event){event.target.closest('[x-spread="catcher"]').querySelector(':scope > [unfold]').dispatchEvent(new CustomEvent('unfold:toggle'));}};};})('unfolder');/*!
* Section watch
* @requires alpinejs/alpine
* @requires ryangjchandler/spruce
*/(function(namespace){var selector='[sectionwatch]';var margins='0% 0px -60% 0px';var sections=[];each(document.querySelectorAll(selector),function(el,index){sections.push(el.getAttribute('current'));});Spruce.store('sections',{all:sections,current:null,previous:null,next:null});Spruce.watch('sections.current',function(value){var current_index=Spruce.store('sections').all.indexOf(value);Spruce.store('sections').previous=Spruce.store('sections').all[current_index-1]||null;Spruce.store('sections').next=Spruce.store('sections').all[current_index+1]||null;window.dispatchEvent(new CustomEvent('section.update',{detail:{section:value}}));});var init=function(){if('IntersectionObserver'in window){var observer=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){if(entry.boundingClientRect.y>=entry.rootBounds.y){if(entry.isIntersecting){Spruce.store('sections').current=entry.target.getAttribute('current');}else{if(!window.utils.scroll.data.direction){var index=Spruce.store('sections').all.indexOf(entry.target.getAttribute('current'));Spruce.store('sections').current=Spruce.store('sections').all[index-1]||'';};}};});},{rootMargin:margins});eachOnce(selector,namespace,function(index,root){observer.observe(root);});}};window.addEventListener('reinitialize',init);init();})('sectionwatch');/*!
* (v) Load more 20211013.2130
* @requires alpinejs/alpine
*/(function(namespace){window[namespace]=function(){return{ended:false,loading:false,load:function(url,replace,swap){var that=this;var root=this.$el;var scroll=window.pageYOffset;var group=root.getAttribute('data-loadmore')||false;var entries=root.querySelector('[data-entries]');var more=root.querySelector('[data-more]');var link=url||event.target.closest('[href]').href;if(replace)this.ended=false;if(swap)history.replaceState(null,null,link);this.loading=true;fetch(link).then(function(response){return response.text();}).then(function(html){var parser=new DOMParser();var doc=parser.parseFromString(html,'text/html');var doc_root=doc.querySelector('[data-loadmore'+(group?'="'+group+'"':'')+']');var doc_entries=doc_root.querySelectorAll('[data-entry]');var doc_more=doc_root.querySelector('[data-more]');if(doc_entries){if(replace)entries.textContent='';doc_entries.forEach(function(el){entries.appendChild(el);});}
if(doc_more){more.innerHTML=doc_more.innerHTML;}else{that.ended=true;}
that.loading=false;window.dispatchEvent(new CustomEvent('reinitialize'));window.scrollTo(0,scroll);}).catch(function(err){console.warn('Something went wrong.',err);});}};};})('loadmore1');/*!
* (v) Load switch
* @requires alpinejs/alpine
*/(function(namespace){window[namespace]=function(){return{ended:false,loading:false,reload:function(url,container,swap){var that=this;var root=document.querySelector(container);var body=document.querySelector('body');var scroll=window.pageYOffset;var link=url||event.target.closest('[href]').href;if(swap)history.replaceState(null,null,link);body.insertAdjacentHTML('beforeend','<i class="loader2 -active"></i>');fetch(link).then(function(response){return response.text();}).then(function(html){var parser=new DOMParser();var doc=parser.parseFromString(html,'text/html');var doc_root=doc.querySelector(container);if(doc_root){root.innerHTML=doc_root.innerHTML;}
window.dispatchEvent(new CustomEvent('reinitialize'));if(container=='body'){window.scrollTo(0,0);}else{window.scrollTo(0,scroll);}
var loader=body.querySelector('.loader2');loader.remove();}).catch(function(err){console.warn('Something went wrong.',err);});}};};})('loadswitch1');/*!
* Tabs 1
* @requires alpinejs/alpine
*/(function(namespace){window[namespace]=function(){return{tab:null,init:function(initial){var that=this;each(this.$el.querySelectorAll('.tabs1-tab'),function(el,index){el.addEventListener('transitionstart',function(){if(event.target==el&&!event.target.classList.contains('-leave')){window.dispatchEvent(new CustomEvent('recalculate'));}});});this.tab=window.location.hash?window.location.hash.substring(1):initial;},open:function(tab){this.tab=tab;window.location.hash=tab;if(window.innerWidth<1024)this.$scroll(this.$el);}};};})('tabs1');/*!
* Tabs 2
* @requires alpinejs/alpine
*/(function(namespace){window[namespace]=function(){return{tab:null,init:function(initial){var that=this;this.tab=window.location.hash?window.location.hash.substring(1):initial;},change:function(tab){this.tab=tab;}};};})('tabs2');/*!
* Simple carousel
* @requires alpinejs/alpine
*/(function(namespace){window[namespace]=function(){return{columns:1,wrapper:null,viewport:null,track:null,max:null,update:function(){this.columns=getComputedStyle(this.wrapper).getPropertyValue('--c');this.viewport=this.wrapper.offsetWidth;this.track=this.wrapper.scrollWidth;this.max=this.track-this.viewport;},next:function(){this.wrapper.scrollLeft=this.wrapper.scrollLeft+this.viewport},prev:function(){this.wrapper.scrollLeft=this.wrapper.scrollLeft-this.viewport},init:function(){var that=this;this.wrapper=this.$el.querySelector('[wrapper]');this.update();window.addEventListener('recalculate',function(){that.update();});}};};})('carousel1');/*!
* Map
* @requires alpinejs/alpine
*/(function(namespace){window[namespace]=function(){return{title:null,filter:null,show_all:window.innerWidth>719,tab:null,country:false,filter_summary:null,filter_permalink:null,filter_link_text:null,zoom:{initial:1.25,current:1.25,step:0.5,max:4.25,min:1},pan:{enabled:false,x:50,y:50},wrappers:{},prepare_wrappers:function(){this.wrappers.canvas=this.$el.querySelector('[canvas]');this.wrappers.inner=this.wrappers.canvas.querySelector('[inner]');this.wrappers.map=this.wrappers.canvas.querySelector('svg');this.wrappers.boxes=this.$el.querySelector('[boxes]');this.wrappers.countries=this.$el.querySelector('[countries]');},prepare_filters:function(){var that=this;that.$watch('filter',function(value){that.country=false;each(that.wrappers.map.querySelectorAll('[filters]'),function(el,index){el.classList.toggle('-active',!value||el.matches('[filters~="'+value+'"]'));});that.reset_map()});that.$el.addEventListener('click',function(event){if(event.target.matches('[filter], [filter] *')){event.preventDefault();var clicked=event.target.closest('[filter]');that.title=clicked.getAttribute('data-title');that.filter_summary=clicked.getAttribute('data-summary');that.filter_permalink=clicked.getAttribute('data-permalink');that.filter_link_text=clicked.getAttribute('data-link-text');}});},prepare_captions:function(){var captions=this.$el.querySelectorAll('[caption]');if(captions.length<2)return false;var wrap=this.$el.querySelector('[captions]');wrap.innerHTML='';each(captions,function(el,index){wrap.append(el)});},prepare_popups:function(){var that=this;that.wrappers.map.addEventListener('click',function(event){var canvas_box=that.wrappers.canvas.getBoundingClientRect();that.coords=[(event.clientX-canvas_box.left)/canvas_box.width,(event.clientY-canvas_box.top)/canvas_box.height];var filter=event.target.closest('[country][filters].-active');that.country=filter?filter.getAttribute('country'):false;});that.$watch('country',function(value){each(that.$el.querySelectorAll('[box]'),function(el,index){transition(el,'-leave',function(){el.remove();})});if(!value)return false;var box=document.createElement('div');box.setAttribute('box',true);box.classList.add('map1-box');box.style.setProperty('--m1cx',that.coords[0]);box.style.setProperty('--m1cy',that.coords[1]);box.append(that.wrappers.countries.querySelector('[country="'+value+'"').cloneNode(true));that.wrappers.boxes.append(box);box.getBoundingClientRect();box.classList.add('-active');});},prepare_panning:function(){var that=this;that.$watch('pan.x',function(value){that.$el.style.setProperty('--m1x',value+'%');});that.$watch('pan.y',function(value){that.$el.style.setProperty('--m1y',value+'%');});var x_start;var y_start;var x_max;var y_max;var x_init;var y_init;that.wrappers.map.addEventListener('mousedown',function(event){that.pan.enabled=true;x_start=window.event.clientX;y_start=window.event.clientY;x_init=that.pan.x;y_init=that.pan.y;var canvas_box=that.wrappers.canvas.getBoundingClientRect();var map_box=that.wrappers.map.getBoundingClientRect();x_max=(map_box.width-canvas_box.width)/2;y_max=(map_box.height-canvas_box.height)/2;});window.addEventListener('mouseup',function(){that.pan.enabled=false;});window.addEventListener('mousemove',function(event){if(!that.pan.enabled)return;var x=x_start-window.event.clientX;var y=y_start-window.event.clientY;if(x_max>0)that.pan.x=Math.min(100,Math.max(0,x_init+x/x_max*50));if(y_max>0)that.pan.y=Math.min(100,Math.max(0,y_init+y/y_max*50));});},prepare_zoom:function(){var that=this;that.$watch('zoom.current',function(value){that.$el.style.setProperty('--m1z',that.zoom.current);if(value==1){that.wrappers.map.addEventListener('transitionend',function(){that.pan.x=50;that.pan.y=50;},{once:true});};});},prepare_toggle:function(){var that=this;window.addEventListener('resize',function(){that.show_all=window.innerWidth>719;});},reset_map:function(){this.zoom.current=this.zoom.initial;this.pan.x=50;this.pan.y=50;},scale:function(enlarge){this.zoom.current=Math.min(Math.max(this.zoom.current+(this.zoom.step*(enlarge?1:-1)),this.zoom.min),this.zoom.max);},init:function(tab){this.prepare_wrappers();this.prepare_captions();this.prepare_popups();this.prepare_zoom();this.prepare_panning();this.prepare_filters();this.prepare_toggle();this.tab=window.location.hash?window.location.hash.substring(1):tab;},open:function(tab){this.tab=tab;window.location.hash=tab;}};};})('map1');/*!
* (v) Carousels v20201114.1730
* @requires alpinejs/alpine
* @requires ganlanyuan/tiny-slider
*/(function(namespace){window.carousels=window.carousels||{};window.carousels.carousel2={gutter:0,items:1,slideBy:1,speed:500,controls:false,nav:false,loop:false,rewind:true,preventScrollOnTouch:'auto',callbacks:{'indexChanged':function(index,info,alpine){var caption=alpine.$el.querySelector('[data-entry]:nth-child('+index+') figcaption');if(caption)alpine.caption=caption.innerHTML;}}};window[namespace]=function(){return{captions:function(){var caption=this.$el.querySelector('.tns-slide-active[data-entry] figcaption');this.caption=caption?caption.innerHTML:'';},update:function(){var info=this.carousel.getInfo();this.transitioning=false;this.first=this.current==0;this.last=this.current>=this.count-info.slideBy;this.pages=Math.ceil(this.carousel.getInfo().slideCount/this.carousel.getInfo().slideBy);this.page=Math.ceil(this.current/info.slideBy+1);},init:function(settings_id){var that=this;var opts=window.carousels[settings_id];opts.container=that.$el.querySelector('[data-entries]');if(this.$el.hasAttribute('autoplay'))opts.autoplay=this.$el.getAttribute('autoplay');that.current=opts.startIndex||0;that.count=this.$el.querySelectorAll('[data-entry]').length;if(opts.callbacks&&opts.callbacks['beforeInit'])opts.callbacks['beforeInit'](that);this.carousel=tns(opts);this.update();this.carousel.events.on('indexChanged',function(info){that.previous=that.current;that.current=info.displayIndex-1;that.first=that.current==0;that.last=that.current>=info.slideCount-info.slideBy;that.page=Math.ceil(that.current/info.items+1);if(opts.callbacks&&opts.callbacks['indexChanged'])opts.callbacks['indexChanged'](info.displayIndex,info,that);});this.carousel.events.on('transitionStart',function(info){that.transitioning=true;});this.carousel.events.on('transitionEnd',function(info){that.transitioning=false;});window.addEventListener('recalculate',function(){that.update();});}};};})('carousel');/*!
* (v) Toaster 20211211.2315
* Toast notifications
*/(function(namespace){var wrap=document.createElement('div');wrap.classList.add(namespace);document.body.append(wrap);window.addEventListener('toast',function(event){var time=event.detail.time||2000;var p=document.createElement('p');p.innerHTML='<span>'+event.detail.message+'</span>';if(event.detail.class)p.setAttribute('class',event.detail.class);p.onClick=function(event){event.target.classList.remove('-active');};wrap.append(p);p.getBoundingClientRect();p.classList.add('-active');setTimeout(function(){p.classList.remove('-active');setTimeout(function(){p.remove();},time);},time);});window.toast=function(message,classname,time){window.dispatchEvent(new CustomEvent('toast',{detail:{message:message,class:classname,time:time}}));};})('toaster1');/*!
* (v) Tabbed v20220929.1445
*/(function(namespace){window.addEventListener('click',function(event){var link=event.target.closest('['+namespace+']');if(!link)return;event.preventDefault();var tabs=link.closest('[tabs]');var url=link.getAttribute('href');var selector=link.getAttribute(namespace);var wrapper=document.querySelector(selector);wrapper.setAttribute('loading','');fetch(url,{headers:{'X-Requested-With':'XMLHttpRequest'}}).then(function(response){return response.text();}).then(function(html){var parser=new DOMParser();var parsed=parser.parseFromString(html,'text/html');var _wrapper=parsed.querySelector(selector);wrapper.innerHTML=_wrapper.innerHTML;wrapper.removeAttribute('loading');tabs.querySelectorAll(':scope > *').forEach(function(el,index){if(el==link.closest('[tabs] > *')){el.setAttribute('aria-current','page');}else{el.removeAttribute('aria-current')}});window.dispatchEvent(new CustomEvent('reinitialize'));}).catch(function(err){console.warn('Something went wrong.',err);if(typeof toast!='undefined')toast('Error','-c:e1t -cs:i');wrapper.removeAttribute('loading');});});})('tabber');/*!
* Cookie consent & datalayer
*/(function(namespace){window.dataLayer=window.dataLayer||[];var allowCookies=function(){if(typeof gtag==='function'){dataLayer.push({'cookieconsent':'granted','event':'cookieconsent'});gtag("consent","update",{analytics_storage:"granted",ad_storage:"granted"});gtag("consent","update",{analytics_storage:"granted",ad_storage:"granted",region:['US-CA','AT','BE','BG','HR','CY','CZ','DK','EE','FI','FR','DE','GR','HU','IE','IT','LV','LT','LU','MT','NL','PL','PT','RO','SK','SI','ES','SE','GB','GF','GP','MQ','ME','YT','RE','MF','GI','AX','PM','GL','BL','SX','AW','CW','WF','PF','NC','TF','AI','BM','IO','VG','KY','FK','MS','PN','SH','GS','TC','AD','LI','MC','SM','VA','JE','GG','GI','CH'],});}},denyCookies=function(){if(typeof gtag==='function'){dataLayer.push({'cookieconsent':'denied','event':'cookieconsent'});gtag("consent","update",{analytics_storage:"denied",ad_storage:"denied"});gtag("consent","update",{analytics_storage:"denied",ad_storage:"denied",region:['US-CA','AT','BE','BG','HR','CY','CZ','DK','EE','FI','FR','DE','GR','HU','IE','IT','LV','LT','LU','MT','NL','PL','PT','RO','SK','SI','ES','SE','GB','GF','GP','MQ','ME','YT','RE','MF','GI','AX','PM','GL','BL','SX','AW','CW','WF','PF','NC','TF','AI','BM','IO','VG','KY','FK','MS','PN','SH','GS','TC','AD','LI','MC','SM','VA','JE','GG','GI','CH'],});}};var settings=tmscripts.gdpr;if(settings.enabled){window.cookieconsent.initialise({"type":"opt-out","content":{"message":settings.message,"href":settings.learn_more},"revokable":true,onInitialise:function(status){switch(status){case 'deny':denyCookies();break;case 'allow':allowCookies();break;}},onStatusChange:function(status){switch(status){case 'deny':denyCookies();break;case 'allow':allowCookies();break;}}});}})('gdpr');/*!
* Form Height
*/(function(namespace){var init=function(){const elementToObserve=document.querySelector('#observed');if(elementToObserve){const observer=new MutationObserver(()=>{resize();});observer.observe(elementToObserve,{subtree:true,childList:true});}}
var resize=function(){if(screen.width>1023){let elementToObserve=document.querySelector('#observed');let elementToAdjust=document.querySelector('#adjusted');let buttons=document.querySelectorAll('input[type="button"], a.wfTab');let inputs=document.querySelectorAll('select, input[type="checkbox"], input[type="radio"]');let changeHeight=function(){let observedHeight=elementToObserve.offsetHeight;elementToAdjust.style.minHeight=(observedHeight-175)+'px';}
buttons.forEach(function(el){el.addEventListener('click',changeHeight);});inputs.forEach(function(el){el.addEventListener('change',changeHeight);});}else{let elementToAdjust=document.querySelector('#adjusted');elementToAdjust.style.height='initial';}}
window.addEventListener('resize/debounced',init);init();})('form1');